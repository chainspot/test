import{l as t,n as H,j as g,o as I,u as j,P as k,q as F,t as O,L as S}from"./index-D2qO4dV6.js";class T extends t.Component{getSnapshotBeforeUpdate(d){const e=this.props.childRef.current;if(e&&d.isPresent&&!this.props.isPresent){const c=e.offsetParent,m=I(c)&&c.offsetWidth||0,n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft,n.right=m-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function W({children:l,isPresent:d,anchorX:e,root:c}){const m=t.useId(),n=t.useRef(null),p=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=t.useContext(H);return t.useInsertionEffect(()=>{const{width:x,height:o,top:R,left:s,right:a}=p.current;if(d||!n.current||!x||!o)return;const f=e==="left"?`left: ${s}`:`right: ${a}`;n.current.dataset.motionPopId=m;const r=document.createElement("style");y&&(r.nonce=y);const u=c??document.head;return u.appendChild(r),r.sheet&&r.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${o}px !important;
            ${f}px !important;
            top: ${R}px !important;
          }
        `),()=>{u.removeChild(r),u.contains(r)&&u.removeChild(r)}},[d]),g.jsx(T,{isPresent:d,childRef:n,sizeRef:p,children:t.cloneElement(l,{ref:n})})}const D=({children:l,initial:d,isPresent:e,onExitComplete:c,custom:m,presenceAffectsLayout:n,mode:p,anchorX:y,root:x})=>{const o=j(K),R=t.useId();let s=!0,a=t.useMemo(()=>(s=!1,{id:R,initial:d,isPresent:e,custom:m,onExitComplete:f=>{o.set(f,!0);for(const r of o.values())if(!r)return;c&&c()},register:f=>(o.set(f,!1),()=>o.delete(f))}),[e,o,c]);return n&&s&&(a={...a}),t.useMemo(()=>{o.forEach((f,r)=>o.set(r,!1))},[e]),t.useEffect(()=>{!e&&!o.size&&c&&c()},[e]),p==="popLayout"&&(l=g.jsx(W,{isPresent:e,anchorX:y,root:x,children:l})),g.jsx(k.Provider,{value:a,children:l})};function K(){return new Map}const E=l=>l.key||"";function M(l){const d=[];return t.Children.forEach(l,e=>{t.isValidElement(e)&&d.push(e)}),d}const Q=({children:l,custom:d,initial:e=!0,onExitComplete:c,presenceAffectsLayout:m=!0,mode:n="sync",propagate:p=!1,anchorX:y="left",root:x})=>{const[o,R]=F(p),s=t.useMemo(()=>M(l),[l]),a=p&&!o?[]:s.map(E),f=t.useRef(!0),r=t.useRef(s),u=j(()=>new Map),[$,L]=t.useState(s),[C,B]=t.useState(s);O(()=>{f.current=!1,r.current=s;for(let h=0;h<C.length;h++){const i=E(C[h]);a.includes(i)?u.delete(i):u.get(i)!==!0&&u.set(i,!1)}},[C,a.length,a.join("-")]);const v=[];if(s!==$){let h=[...s];for(let i=0;i<C.length;i++){const _=C[i],P=E(_);a.includes(P)||(h.splice(i,0,_),v.push(_))}return n==="wait"&&v.length&&(h=v),B(M(h)),L(s),null}const{forceRender:z}=t.useContext(S);return g.jsx(g.Fragment,{children:C.map(h=>{const i=E(h),_=p&&!o?!1:s===C||a.includes(i),P=()=>{if(u.has(i))u.set(i,!0);else return;let w=!0;u.forEach(A=>{A||(w=!1)}),w&&(z?.(),B(r.current),p&&R?.(),c&&c())};return g.jsx(D,{isPresent:_,initial:!f.current||e?void 0:!1,custom:d,presenceAffectsLayout:m,mode:n,root:x,onExitComplete:_?void 0:P,anchorX:y,children:h},i)})})},U="_modalOverlay_tythu_3",b="_modalContent_tythu_29",q="_modalHeader_tythu_49",G="_closeButton_tythu_75",V="_modalBody_tythu_107",X="_modalFooter_tythu_149",J="_modalActionButton_tythu_163",Y={modalOverlay:U,modalContent:b,modalHeader:q,closeButton:G,modalBody:V,modalFooter:X,modalActionButton:J};export{Q as A,Y as s};
